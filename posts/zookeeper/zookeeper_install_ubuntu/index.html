<!doctype html>

<html lang="en">

<head>
  <title>Zookeeper 설치 - Bigdata Engineer &amp; Analyst Story</title>
  <meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<meta name="description" content="Kiera: A Hugo theme for creative and technical writing." />
<meta name="author" content="Sungwoon Yoon" /><meta property="og:title" content="Zookeeper 설치" />
<meta property="og:description" content="설치 환경  Zookeeper 버전: zookeeper-3.5.8 운영체제: ubuntu-18.04.4-desktop-amd64  사전 작업  레파지토리 최신화 sudo apt-get update sudo apt-get upgrade  Java 설치 Java 설치 참조 링크
adduser zookeeper
Zookeeper 다운로드 Download: http://apache." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://ynebula.github.io/posts/zookeeper/zookeeper_install_ubuntu/" />
<meta property="article:published_time" content="2020-11-22T14:23:34+09:00" />
<meta property="article:modified_time" content="2020-11-22T14:23:34+09:00" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Zookeeper 설치"/>
<meta name="twitter:description" content="설치 환경  Zookeeper 버전: zookeeper-3.5.8 운영체제: ubuntu-18.04.4-desktop-amd64  사전 작업  레파지토리 최신화 sudo apt-get update sudo apt-get upgrade  Java 설치 Java 설치 참조 링크
adduser zookeeper
Zookeeper 다운로드 Download: http://apache."/>

<meta name="generator" content="Hugo 0.78.1" />
    

  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.1/normalize.min.css" integrity="sha256-l85OmPOjvil/SOvVt3HnSSjzF1TUMyT9eV0c2BzEGzU=" crossorigin="anonymous" />
  <link rel="stylesheet" href="https://ynebula.github.io/fontawesome/css/all.min.css" />
  
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto+Slab|Ruda" />
  
  
  <link rel="stylesheet" type="text/css" href="https://ynebula.github.io/css/styles.css" /></head>

<body>
  <div id="container">
    <header>
      <h1>
                <a href="https://ynebula.github.io/">Bigdata Engineer &amp; Analyst Story</a>
            </h1>

      <ul id="social-media">
             <li>
               <a href="https://www.facebook.com/username" title="Facebook">
               <i class="fab fa-facebook fa-lg"></i>
               </a>
             </li>
             <li>
               <a href="https://github.com/ynebula" title="GitHub">
               <i class="fab fa-github fa-lg"></i>
               </a>
             </li>
             <li>
               <a href="https://linkedin.com/in/%EC%84%B1%EC%9A%B4-%EC%9C%A4-a9bb30135/" title="LinkedIn">
               <i class="fab fa-linkedin fa-lg"></i>
               </a>
             </li>
             <li>
               <a href="https://www.instagram.com/sungwoon.yoon" title="Instagram">
               <i class="fab fa-instagram fa-lg"></i>
               </a>
             </li>
      </ul>
      
      <p><em>A Hugo theme for creative and technical writing</em></p>
      
    </header>

    
<nav>
    <ul>
        
        <li>
            <a class="" href="https://ynebula.github.io/tags">
                <i class="fa-li fa  fa-lg"></i><span>Tags</span>
            </a>
        </li>
        
        <li>
            <a class="" href="https://ynebula.github.io/categories">
                <i class="fa-li fa  fa-lg"></i><span>Categories</span>
            </a>
        </li>
        
    </ul>
</nav>


    <main>




<article>

    <h1>Zookeeper 설치</h1>

    
      <aside>
    <ul>
        <li>
            <time class="post-date" datetime="2020-11-22T14:23:34&#43;09:00">Nov 22, 2020</time>
        </li>
        
        
        <li>
            Categories:
            <em>
                
                    
                    <a href="https://ynebula.github.io/categories/bigdata">Bigdata</a>
                
                    , 
                    <a href="https://ynebula.github.io/categories/hdfs">HDFS</a>
                
                    , 
                    <a href="https://ynebula.github.io/categories/zookeeper">Zookeeper</a>
                
            </em>
        </li>
        

        
        <li>
            <em>
                
                    
                    <a href="https://ynebula.github.io/tags/zookeeper">#Zookeeper</a>
                
                    , 
                    <a href="https://ynebula.github.io/tags/install">#Install</a>
                
            </em>
        </li>
        

        <li>2 minutes read</li>
    </ul>
</aside>

    

    
<div class="featured_image">
    <a href="https://ynebula.github.io/posts/zookeeper/zookeeper_install_ubuntu/" title="Zookeeper 설치">
        <img src="">
    </a>
</div>



    <h3 id="설치-환경">설치 환경</h3>
<ul>
<li>Zookeeper 버전: zookeeper-3.5.8</li>
<li>운영체제: ubuntu-18.04.4-desktop-amd64</li>
</ul>
<h3 id="사전-작업">사전 작업</h3>
<ul>
<li>레파지토리 최신화</li>
<li>sudo apt-get update</li>
<li>sudo apt-get upgrade</li>
</ul>
<h3 id="java-설치">Java 설치</h3>
<p><a href="https://ynebula.github.io/posts/java/java8_install_on_ubuntu/">Java 설치 참조 링크</a></p>
<p>adduser zookeeper</p>
<h3 id="zookeeper-다운로드">Zookeeper 다운로드</h3>
<p>Download: <a href="http://apache.tt.co.kr/zookeeper/stable/">http://apache.tt.co.kr/zookeeper/stable/</a>
wget <a href="http://apache.tt.co.kr/zookeeper/stable/apache-zookeeper-3.5.8-bin.tar.gz">http://apache.tt.co.kr/zookeeper/stable/apache-zookeeper-3.5.8-bin.tar.gz</a></p>
<p>sudo mv apache-zookeeper-3.5.8-bin /usr/local/
sudo chown -R zookeeper:zookeeper apache-zookeeper-3.5.8-bin/
sudo ln -s apache-zookeeper-3.5.8-bin/ zookeeper</p>
<h3 id="환결-설정">환결 설정</h3>
<ul>
<li>zookeeper 유져의 .profile에 home 디렉토리를 설정합니다.</li>
<li>ZOOKEEPER_HOME=/usr/local/zookeeper</li>
</ul>
<h3 id="로그-디렉토리-생성">로그 디렉토리 생성</h3>
<p>주키퍼는 zoo.cfg에 설정한 데이터 디렉토리에 지노드의 복사본인 스냅샷과 트랜잭션 로그들이 저장됩니다.
지노드에 변경사항이 발생하면, 이 변경사항은 트랜잭션 로그에 추가됩니다.
그리고 로그가 어느정도 커지면, 현재 모든 지노드의 상태 스냅샷이 파일시스템에 저장됩니다.
앙상블 내 주키퍼 노드를 구분하기 위해서 ID를 만듭니다. 주키퍼에서는 <strong>myid</strong> 라고 부르며 정수 형태로 만들어주면 됩니다.
방금 만든 /data 디렉토리 하단에 myid라는 파일을 만들고 내용은 1이라고 입력합니다.
여기서 myid는 주키퍼의 설정 파일에서 사용하게 되며, 예제 2-2의 zoo.cfg파일을 다루면서 다시 설명하겠습니다.
다른 주키퍼 서버들에도 myid 파일을 만들고 숫자를 입력합니다.</p>
<ul>
<li>sudo mkdir /var/log/zookeeper</li>
<li>sudo chown zookeeper:zookeeper /var/log/zookeeper</li>
<li>sudo su zookeeper</li>
<li>echo 1 &gt; /var/log/zookeeper/myid</li>
<li>echo 2 &gt; /var/log/zookeeper/myid</li>
<li>echo 3 &gt; /var/log/zookeeper/myid</li>
</ul>
<h3 id="zoo-설정파일-조정">zoo 설정파일 조정</h3>
<ul>
<li>cp zoo_sample.cfg zoo.cfg 
75  vi zoo.cfg
<h1 id="clustered-multi-server-setup">Clustered (Multi-Server) Setup</h1>
<h1 id="ref-httpszookeeperapacheorgdoccurrentzookeeperadminhtmlsc_singleanddevsetup">Ref: <a href="https://zookeeper.apache.org/doc/current/zookeeperAdmin.html#sc_singleAndDevSetup">https://zookeeper.apache.org/doc/current/zookeeperAdmin.html#sc_singleAndDevSetup</a></h1>
<p>server.1=zk1:2888:3888
#server.2=zk2:2888:3888
#server.3=zk3:2888:3888</p>
</li>
</ul>
<p>tickTime=2000
initLimit=10
syncLimit=5
clientPort=2181
dataDir=/var/log/zookeeper
server.1=zk1:2888:3888
server.2=zk2:2888:3888
#server.3=zk3:2888:3888</p>
<p>tickTime: 주키퍼가 사용하는 시간에 대한 기본 측정 단위(밀리초)
initLimit: 팔로워가 리더와 초기에 연결하는 시간에 대한 타임아웃 tick의 수
syncLimit: 팔로워가 리더와 동기화 하는 시간에 대한 타임 아웃 tick의 수(주키퍼에 저장된 데이터가 크면 수를 늘려야 함)
dataDir= 주키퍼의 트랜잭션 로그와 스냅샷이 저장되는 데이터 저장 경로
clientPort: 주키퍼 사용 TCP포트
server.x: 주키퍼 앙상블 구성을 위한 서버 설절이며, server.myid 형식으로 사용함</p>
<ul>
<li>myid와 호스트 이름 또는 ID주소:포트번호</li>
<li>포트번호 2888, 3888은 기본 포트이며 앙상블 내 노드끼리 연결하는데 사용하고, 리더 선출에 사용함</li>
</ul>
<h3 id="zoo-실행">zoo 실행</h3>
<p>/usr/local/zookeeper/bin/zkServer.sh start</p>
<p>ps -edf |grep zookeeper</p>


</article>


<section class="post-nav">
    <ul>
        
        <li>
            <a href="https://ynebula.github.io/posts/java/java8_install_on_ubuntu/"><i class="fa fa-chevron-circle-left"></i> Java8 설치</a>
        </li>
        
        
        <li>
            <a href="https://ynebula.github.io/posts/bigdata/what_is_bigdata_system_/">빅데이터 시스템이란 <i class="fa fa-chevron-circle-right"></i> </a>
        </li>
        
    </ul>
</section>
  
    
    
        <section class="comments-block">
      <button id="show-comments" style="display: none;"><i class="fa fa-comments"></i> Add/View Comments</button>
</section>

<section id="disqus_thread"></section>

<script>
      (function () {
            
            
            if (window.location.hostname == "localhost")
                  return;

            var disqus_loaded = false;
            var disqus_shortname = 'myShortName';
            var disqus_button = document.getElementById("show-comments");

            var disqus_autoload =  null ;
            var disable_comment =  null ;

            if (disable_comment)
                  return;

            disqus_button.style.display = "";

            if (disqus_autoload){
                  disqus();
            }else{
                  disqus_button.addEventListener("click", disqus, false);
            }

            function disqus() {

                  if (!disqus_loaded) {
                        disqus_loaded = true;

                        var e = document.createElement("script");
                        e.type = "text/javascript";
                        e.async = true;
                        e.src = "//" + disqus_shortname + ".disqus.com/embed.js";
                        (document.getElementsByTagName("head")[0] ||
                              document.getElementsByTagName("body")[0])
                        .appendChild(e);

                        
                        document.getElementById("show-comments").style.display = "none";
                  }
            }

            
            var hash = window.location.hash.substr(1);
            if (hash.length > 8) {
                  if (hash.substring(0, 8) == "comment-") {
                        disqus();
                  }
            }

            
            if (/bot|google|baidu|bing|msn|duckduckgo|slurp|yandex/i.test(navigator.userAgent)) {
                  disqus();
            }
      })();
</script>

    
  





</main>
    <footer>
        <h6>Copyright © 2020 - Sungwoon Yoon |
            Rendered by <a href="https://gohugo.io" title="Hugo">Hugo</a> |
            <a href="https://ynebula.github.io/index.xml">Subscribe </a></h6>
    </footer>
</div>
<script src="https://ynebula.github.io/js/scripts.js"></script>


</body>

</html>

